"use strict";(self.webpackChunkscvi_tools_site=self.webpackChunkscvi_tools_site||[]).push([[9644],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return p}});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=i.createContext({}),c=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=c(e.components);return i.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),m=c(n),p=a,h=m["".concat(s,".").concat(p)]||m[p]||u[p]||r;return n?i.createElement(h,o(o({ref:t},d),{},{components:n})):i.createElement(h,o({ref:t},d))}));function p(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,o=new Array(r);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var c=2;c<r;c++)o[c]=n[c];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},4185:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return c},assets:function(){return d},toc:function(){return u},default:function(){return p}});var i=n(7462),a=n(3366),r=(n(7294),n(3905)),o=["components"],l={},s=void 0,c={permalink:"/blog/2025/3/7/scvi-tools-v1p3",editUrl:"https://github.com/YosefLab/scvi-tools-site/blog/blog/2025-3-7-scvi-tools-v1p3.md",source:"@site/blog/2025-3-7-scvi-tools-v1p3.md",title:"scvi-tools-v1p3",description:"---",date:"2025-03-07T00:00:00.000Z",formattedDate:"March 7, 2025",tags:[],readingTime:4.44,truncated:!1,authors:[],nextItem:{title:"Mini-batch size in destVI",permalink:"/blog/destvi-batchsize"}},d={authorsImageUrls:[]},u=[{value:"tags: scvi-tools, release",id:"tags-scvi-tools-release",children:[]},{value:"Introduction",id:"introduction",children:[]},{value:"1. \ud83d\udd2c New Models",id:"1--new-models",children:[{value:"<strong>ResolVI</strong>",id:"resolvi",children:[]},{value:"<strong>scVIVA</strong>",id:"scviva",children:[]},{value:"<strong>CytoVI</strong>",id:"cytovi",children:[]},{value:"<strong>VIVS</strong>",id:"vivs",children:[]},{value:"<strong>SysVI</strong>",id:"sysvi",children:[]},{value:"<strong>Decipher</strong>",id:"decipher",children:[]},{value:"<strong>MethylVI</strong>",id:"methylvi",children:[]},{value:"<strong>MethylANVI &amp; totalANVI</strong>",id:"methylanvi--totalanvi",children:[]}]},{value:"2. \ud83e\udde9 Custom Dataloaders",id:"2-\ud83e\udde9-custom-dataloaders",children:[{value:"<strong>LaminDB</strong>",id:"lamindb",children:[]},{value:"<strong>Census</strong>",id:"census",children:[]},{value:"<strong>AnnCollection</strong>",id:"anncollection",children:[]}]},{value:"3. \u2699\ufe0f Technical Enhancements",id:"3-\ufe0f-technical-enhancements",children:[{value:"Multi\u2011GPU Training",id:"multigpu-training",children:[]},{value:"scIB\u2011Metrics Optimization",id:"scibmetrics-optimization",children:[]},{value:"Explainability &amp; Interpretability",id:"explainability--interpretability",children:[]}]},{value:"Summary",id:"summary",children:[]},{value:"References",id:"references",children:[]}],m={toc:u};function p(e){var t=e.components,n=(0,a.Z)(e,o);return(0,r.kt)("wrapper",(0,i.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("hr",null),(0,r.kt)("p",null,"slug: v13\ntitle:      Scvi\u2011Tools v1.3: Next\u2011Gen Models, Scalable Data Handling & Core Enhancements\ndate:       2025\u201107\u201103\nauthor: Ori Kronfeld"),(0,r.kt)("h2",{id:"tags-scvi-tools-release"},"tags: ","[scvi-tools, release]"),(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,"We\u2019re proud to introduce ",(0,r.kt)("strong",{parentName:"p"},"scvi\u2011tools v1.3")," (releases 1.3.0 through 1.3.2), encompassing major advances in modeling, data loading, computational scalability, metric integration, and interpretability. This release spans nine new or enhanced models\u2014tailored to spatial, cytometry, methylation, perturbation, and multi\u2011omic studies\u2014alongside support for streaming large datasets, multi\u2011GPU training, scIB metric optimization, and integrated model explainability. Here\u2019s a detailed walkthrough."),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"1--new-models"},"1. \ud83d\udd2c New Models"),(0,r.kt)("h3",{id:"resolvi"},(0,r.kt)("strong",{parentName:"h3"},"ResolVI")),(0,r.kt)("p",null,"ResolVI is a probabilistic model specifically designed to denoise cellular-resolution spatial transcriptomics by reallocating misassigned genes between true cells, neighbor-derived leakage, and background noise. It builds a mixture-of-Gaussians latent prior and reconstructs both corrected counts and embeddings. This approach is highly scalable (handling >1 million spots) and offers downstream capabilities like differential expression and transfer learning on corrected data :contentReference","[oaicite:1]","{index=1}."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"scviva"},(0,r.kt)("strong",{parentName:"h3"},"scVIVA")),(0,r.kt)("p",null,"scVIVA augments spatial transcriptomics analysis by jointly modeling each cell\u2019s own expression and its micro-environmental context (neighborhood composition and gene counts). This niche-aware VAE embeds both cellular identity and environmental features, revealing tissue-specific patterns and environment-driven variation. Dedicated tutorials showcase how scVIVA enables niche-focused clustering and differential abundance analyses :contentReference","[oaicite:2]","{index=2}."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"cytovi"},(0,r.kt)("strong",{parentName:"h3"},"CytoVI")),(0,r.kt)("p",null,"CytoVI adapts the totalVI architecture for cytometry and mass cytometry data, focusing on protein marker distribution and batch correction. By modeling dropout and technical variation intrinsic to protein measurements, CytoVI delivers embeddings optimized for clustering and differential abundance studies. Early tutorials already demonstrate clear delineation of immune subpopulations across batch-affected datasets."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"vivs"},(0,r.kt)("strong",{parentName:"h3"},"VIVS")),(0,r.kt)("p",null,"Variational Inference for Variable Selection (VIVS) identifies associations across modalities\u2014such as gene\u2013protein couplings\u2014while rigorously controlling false discovery rates using conditional randomization. Demonstrated in Genome Biology, VIVS achieves interpretable and scalable feature selection, enabling discovery of biologically meaningful links in paired datasets :contentReference","[oaicite:3]","{index=3}."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"sysvi"},(0,r.kt)("strong",{parentName:"h3"},"SysVI")),(0,r.kt)("p",null,"SysVI tackles challenging integration scenarios\u2014such as reconciling data across species or organoid systems\u2014by combining latent cycle-consistency with a VampPrior. Benchmarks show that SysVI outperforms prior approaches like scVI and Harmony by preserving biological variability while robustly aligning batch-specific effects :contentReference","[oaicite:4]","{index=4}."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"decipher"},(0,r.kt)("strong",{parentName:"h3"},"Decipher")),(0,r.kt)("p",null,"Decipher is tailored for perturbation studies (e.g., disease vs. control), learning a latent structure that separates shared from condition-specific signals. When applied to AML datasets, Decipher identifies known markers and distinct latent dimensions corresponding to disease status, supported by new tutorials and API references :contentReference","[oaicite:5]","{index=5}."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"methylvi"},(0,r.kt)("strong",{parentName:"h3"},"MethylVI")),(0,r.kt)("p",null,"This VAE-based framework is devoted to single-cell bisulfite sequencing (scBS-seq) data. MethylVI models the probability of methylation at individual cytosine sites and learns an interpretable cell latent space. Its tutorial demonstrates that it outperforms PCA-based methods for consistent batch integration across multiple BS-seq experiments :contentReference","[oaicite:6]","{index=6}."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"methylanvi--totalanvi"},(0,r.kt)("strong",{parentName:"h3"},"MethylANVI & totalANVI")),(0,r.kt)("p",null,"These annotation-aware models integrate multi-omic modalities with supervised cell-type labeling. totalANVI extends totalVI to jointly model RNA and protein expression while learning cell-type labels. MethylANVI brings the same framework to methylation and RNA joint datasets. Both models support unified annotation, clustering, and differential testing under one model :contentReference","[oaicite:7]","{index=7}."),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"2-\ud83e\udde9-custom-dataloaders"},"2. \ud83e\udde9 Custom Dataloaders"),(0,r.kt)("p",null,"v1.3 introduces three new ",(0,r.kt)("strong",{parentName:"p"},"streaming dataloader backends"),", allowing large or federated datasets to be handled efficiently without loading everything into memory:"),(0,r.kt)("h3",{id:"lamindb"},(0,r.kt)("strong",{parentName:"h3"},"LaminDB")),(0,r.kt)("p",null,"Integrates with Lamindb, enabling out-of-core training from disk-backed collections. Users can register collections and seamlessly train models like SCVI, benefiting from disk efficiency while maintaining full API compatibility with in-memory datasets :contentReference","[oaicite:8]","{index=8}."),(0,r.kt)("h3",{id:"census"},(0,r.kt)("strong",{parentName:"h3"},"Census")),(0,r.kt)("p",null,"Built on TileDB and optimized for atlas-scale data, Census dataloaders support streaming of massive datasets. The API mirrors LaminDB, promoting scalability without code changes in modeling pipelines :contentReference","[oaicite:9]","{index=9}."),(0,r.kt)("h3",{id:"anncollection"},(0,r.kt)("strong",{parentName:"h3"},"AnnCollection")),(0,r.kt)("p",null,"Allows training on multiple AnnData objects simultaneously, without merging them into one dataset. AnnCollection handles disparities in features or layers internally and aligns them during training, empowering federated or multi-study analyses\u2014detailed in tutorial PR #450 :contentReference","[oaicite:10]","{index=10}."),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"3-\ufe0f-technical-enhancements"},"3. \u2699\ufe0f Technical Enhancements"),(0,r.kt)("h3",{id:"multigpu-training"},"Multi\u2011GPU Training"),(0,r.kt)("p",null,"Leveraging PyTorch Lightning, scvi\u2011tools now supports multi\u2011GPU training with simple API flags. Official examples demonstrate 2\u20133\xd7 throughput improvements on 1 million cell datasets, enabling practical training of massive single-cell models :contentReference","[oaicite:11]","{index=11}."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"scibmetrics-optimization"},"scIB\u2011Metrics Optimization"),(0,r.kt)("p",null,"With the integration of ",(0,r.kt)("inlineCode",{parentName:"p"},"ScibCallback")," and the ",(0,r.kt)("inlineCode",{parentName:"p"},"AutotuneExperiment")," class, users can now monitor scIB metrics (like NMI and batch ARI) on the validation set during training and automatically tune hyperparameters (latent dimensions, learning rate) based on these metrics\u2014directly optimizing for clustering and batch mixing performance :contentReference","[oaicite:12]","{index=12}."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"explainability--interpretability"},"Explainability & Interpretability"),(0,r.kt)("p",null,"scvi\u2011tools now supports ",(0,r.kt)("strong",{parentName:"p"},"Integrated Gradients")," for many models, enabling gene-level attribution of latent features. Coupled with ",(0,r.kt)("inlineCode",{parentName:"p"},"get_normalized_expression")," for batch\u2011corrected expression recovery, this framework allows researchers to interpret latent dimensions in terms of known gene drivers\u2014offering transparency in deep generative modeling :contentReference","[oaicite:13]","{index=13}."),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"summary"},"Summary"),(0,r.kt)("p",null,"scvi\u2011tools v1.3 stands as a landmark release across three domains:  "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"New generative models")," suited to spatial, cytometry, multi\u2011omic, methylation, and perturbation data;  "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Streaming dataloaders")," (LaminDB, Census, AnnCollection) for large-scale or federated datasets;  "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Core capabilities")," including multi-GPU scaling, metric-driven hyperparameter tuning, and model interpretability.")),(0,r.kt)("p",null,"Taken together, these enhancements empower scientists to efficiently build, interpret, and deploy deep single-cell workflows at previously unprecedented scale and clarity."),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"references"},"References"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"ResolVI spatial denoising tutorial & model description :contentReference","[oaicite:14]","{index=14}  "),(0,r.kt)("li",{parentName:"ul"},"scVIVA niche-aware spatial modeling tutorial :contentReference","[oaicite:15]","{index=15}  "),(0,r.kt)("li",{parentName:"ul"},"VIVS feature-selection in Genome Biology 2024 :contentReference","[oaicite:16]","{index=16}  "),(0,r.kt)("li",{parentName:"ul"},"SysVI, Decipher, and methylVI/ANVI model overview in user guide :contentReference","[oaicite:17]","{index=17}  "),(0,r.kt)("li",{parentName:"ul"},"Dataloader benchmarking and Lamindb/Census workflows :contentReference","[oaicite:18]","{index=18}  "),(0,r.kt)("li",{parentName:"ul"},"Multi-GPU & scIB metrics tutorials :contentReference","[oaicite:19]","{index=19}  "),(0,r.kt)("li",{parentName:"ul"},"Integrated Gradients and explainability tutorials :contentReference","[oaicite:20]","{index=20}")))}p.isMDXComponent=!0}}]);